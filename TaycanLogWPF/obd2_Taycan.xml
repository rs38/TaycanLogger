<?xml version="1.0" encoding="utf-8"?>
<OBD2>
	<init>
		<command send="atz"></command>
		<command send="atat1"></command>
		<command send="atsp6"></command>
		<command send="atl0"></command>
		<command send="ats0"></command>
		<command send="ath0"></command>
		<command send="ate0"></command>
		<command send="atst25"></command>
		<command send="atsh7e5"></command>
		<command send="atcm000"></command>
		<command send="atcf000"></command>
		<command send="atfcsd300000"></command>
		<command send="atfcsh7e5"></command>
		<command send="atfcsm1"></command>
	</init>


	<rotation>
		<command send="2218021801f40d" header="atsh7e5" skipCount="2">
			<!-- Units missing = Subcommands!  621802 334455 1801 6677 F40d 00 -->
			<values>
				<value name="Amp" conversion="((B3*65536.0)+B4*256+B5)/100-1500" units="A"/>
				<value name="BatV" conversion="((B8*256)+B9)/10" units="V"/>
				<value name="Speed"  conversion="B12*1.02" units="km/h"/>
			</values>
		</command>

		<command send="22028C1" header="atsh7e5" skipCount="12" name="SoC1" conversion="B3" units="%"/>

<!--
		<command send="221E3B" header="atsh7e5" skipCount="7" name="CelSum" conversion="((B3*256)+B4)/10" units="V"/>
-->

		<command send="221E1B1" header="atsh7e5" skipCount="13" name="BatLimC" conversion="B3*256+B4" units="A"/>
		<command send="221E1C1" header="atsh7e5" skipCount="14" name="BatLimD" conversion="B3*256+B4" units="A"/>

		<command send="22f45b" header="atsh7e5" skipCount="15" name="SoC2" conversion="b3/256*100" units="%" />
		
		<command send="22181D1" header="atsh7e5" skipCount="15" name="BatTOut" conversion="B3-40" units="C"/>
		<command send="22181C1" header="atsh7e5" skipCount="10" name="BatTIn" conversion="B3-40" units="C"/>
		<command send="221E101" header="atsh7e5" skipCount="11" name="BatTemp" conversion="B3-100" units="C"/>

		<command send="atfcsh744" name="z" skipCount="15"/>
		<command send="224965" header="atsh744" skipCount="15" >
			<values>
				<value name="Battkapa" conversion="((B3*256)+B4)/20" units="kWh"/>
				<value name="SoC3" conversion="((B10*256)+B11)/20"  units="%"/>
				<value name="Power" conversion="(32768-((B5*256)+B6))/10"  units="kW"/>
				<value name="Temp" conversion="(b12/2)-40"   units="°C"/>
				<value name="MaxAmp" conversion="((B8*256)+B9)/10"  units="A"/>
				<value name="BattSt" conversion="b7"  units="#"/>
			</values>
		</command>
		
		<command send="atfcsh714" name="y" skipCount="16"/>
		<command send="220520" header="atsh714" skipCount="16" >
			<values>
				<value name= "Weg1" conversion="(B3*256*256+B4*256+B5)" units="km"/>
				<value name= "Weg2" conversion="(B6*256*256+B7*256+B8)/10" units="km"/>
			</values>
		</command>

		<command send="2208D21" header="atsh7E0" skipCount="20" name="SoCDiplay" conversion="((B3*256)+B4)*0.01" units="%"/>
		
		<command send="atfcsh710" name="x" skipCount="11"/>
		<command send="222AB8" name="BattE" header="atsh710" skipCount="11"  conversion="((b5*256)+b6)" units="kWh"/>
		<command send="222ab6" name="Range" header="atsh710" skipCount="11" conversion="((b3*256)+b4)" units="km"/>

		<command send="222ab4" header="atsh710" skipCount="15" name="AmpProfil" conversion="(((b11*256)+b12))" units="A"/>

		
		<command send="222613" header="atsh746" skipCount="10" conversion="((B3*256)+B4)/10.0" name="InsideT" units="C"/>
		<command send="222608" header="atsh746" skipCount="10" conversion="((B3*256)+B4)/10.0" name="AirT" units="C"/>

		<command send="2227D61" skipCount="10" header="atsh742" name="A/C data">
			<values>
				<value name="WP_W" conversion="B5*40"  units="W"/>
				<value name="WP%" conversion="B4/200"  units="%"/>
				<value name="WP_rpm" conversion="B3*300"   units="rpm"/>
			</values>
		</command>

		<command send="22475F1" header="atsh742" skipCount="10" conversion="B3*0.25" name="HeatA" units="A"/>

	</rotation>
	<!--
	
	
    <command send="atcra7AC" header="atsh742" skipCount="10">
     <command send="atfcsh7e5"></command>
    </command>
	
	<command send="atcra7B0" header="atsh746" skipCount="10"></command> 
	
		//climate control
	  	writeCAN("222608"); // Outside Temp Calc 62 26 09 23 x/2-50 °C  35
	 
      writeCAN("ATSH714",40); writeCAN("ATCRA77E",50);  //Kombiinstr,
      writeCAN("220530");
          
      atcra7AC"  //Thermomgmnt 0xC5
                       
    //BMS
        { "192A","Reqrmt_BMS_CoolLvl"},
        { "192C","StateBattCoolPump"}, 
        { "192B","CoolPumpPwrSetPoint"}

         Read Data By Identifier ;22 05 20;
         RSP0002;19:37:08.822;LL_DashBoardUDS BV_DashBoardUDS EV_DashBoardLGEPO513_004;Strecke Read Data By Identifier ;
		62 05 20 00 37 b1 00 a6 4f 00;10547

            atsh714 22 05 30 
            cra77E 
            RSP0002;19:35:18.655;LL_DashBoardUDS BV_DashBoardUDS EV_DashBoardLGEPO513_004;Berechnete, angezeigte Werte Read Data By Identifier ;22 05 30
            62 05 30 00 22 c1 24 ce 25 a1 80 00 01 dd d0 01 80 00 00 00 05 32 78 1b d8 80 00 46 00 18 00 00 00 00 01 60 23 82 7f 84 c9 a6 00 dc 00 00 00 00 3d b8 01 5d 4c 45 44 38 59 52 4c 45 00 00 00
   
           "222AB2", // HV battery max energy content Wh
        "222AB8", // HV battery energy content

        ID3:
	        //write("22 1E32"); // Total accumulated charged and discharge
  	        //write("22 0432"); //"Historiendaten 35 Charge_Power_Limit_Time_TEMP ID: 0432 32bit werte x/10 in Sec.
    
            "Maximaler Energieinhalt der Traktionsbatterie"
        22 2AB2
        Header: 710,77A
        (A*16777216+B*65536+C*256+D)/1310.77

         "22743B",       // cirkulation pump HV battery - flow in %

        22 1512:
        High_voltage_battery_energy_information 29400
        NV_energy_requirement [Wh] 12700
        
        HV-EM_high_voltage_battery_energy_information 28500
    <command send="atrv" skipCount="20" name="12VBatt"></command>
-->


</OBD2>
